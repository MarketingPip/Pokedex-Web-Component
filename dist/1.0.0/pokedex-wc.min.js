class Pokedex extends HTMLElement{constructor(){super(),this.pokemonDetails=null,this.name=this.getAttribute("name"),this.endpoint=`https://pokeapi.co/api/v2/pokemon/${this.name.toLowerCase()}`,this.getDetails=this.getDetails.bind(this),this.innerHTML=this.style+'<div class="pokedex-wrapper"><img src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/08/s_2A9C470D38F43091CCD122E63014ED4503CAA7508FAF0C6806AE473C2B94B83E_1627522653545_loadinfo.gif?resize=200%2C200&ssl=1" alt="pokemon" class="pokemon_image"> <img src="https://github.com/manualdodev/pokedex/blob/main/images/pokedex.png?raw=true" alt="pokedex" class="pokedex"><h1 class="pokemon_data"><span class="pokemon_name">Loading</span><br></h1></div>',this.pokemon_image=this.querySelector(".pokemon_image"),this.pokemon_name=this.querySelector(".pokemon_name")}async connectedCallback(){let e=await this.getDetails();this.pokemonDetails=e,this.initShadowDom()}initShadowDom(){this.attachShadow({mode:"open"}).innerHTML=this.template}get style(){return`
      <style>
       .botao,.input_search{outline:0;font-weight:6px;box-shadow:-2px 2px 0 #7a7878}.pokedex-wrapper{display:inline-block;margin-top:5%;position:relative}.buttons,.form,.info,.pokemon_data,.pokemon_image{position:absolute}.pokedex{width:100%;padding:15px;max-width:700px}.pokemon_image{bottom:51%;left:35%;height:18%;transform:translate(3%,1%)}.pokemon_data{color:rgba(35,37,36,.856);top:54%;right:27%;font-size:130%}.pokemon_name{color:#000;text-transform:capitalize}.form{color:#000;width:30%;top:65%;left:13.3%}.input_search{width:100%;padding:5%;border:2px solid #000;border-radius:5px;background-color:#a8a7a7;color:#faebd7}.buttons{right:40%;bottom:9.3%;display:flex;gap:10px}.botao{width:50%;padding:.9%;border:2px solid #000;border-radius:5px;color:#dbd2d2;background-color:#0f0e0e}.botao:active{background-color:red;box-shadow:inset -2px 2px 0 #7a7878;font-size:.8rem}.info{background-color:#13f813;width:35%;height:48.9%;right:7%;top:36%;text-align:center;font-family:Arial;color:azure;border:1px solid #fff}
      </style>
    `}get template(){let e=this.pokemonDetails;return e.name?this.style+this.cardTemplate(e):this.style+this.cardError(e)}async getDetails(){return await fetch(this.endpoint,{mode:"cors"}).then(e=>e.json())}cardError({message:e}){return`<div class="Card Card--error">Error: ${e}</div>`}cardTemplate({name:e,id:t,owner:o,full_name:i,description:a}){return this.pokemon_image.src=`https://raw.githubusercontent.com/sashafirsov/pokeapi-sprites/master/sprites/pokemon/versions/generation-v/black-white/animated/${t}.gif`,this.pokemon_name.innerText=e,this.innerHTML}}window.customElements.define("poke-dex",Pokedex);
